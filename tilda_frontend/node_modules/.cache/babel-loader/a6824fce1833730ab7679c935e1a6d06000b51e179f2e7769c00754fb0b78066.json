{"ast":null,"code":"var _jsxFileName = \"/Users/georgyshustov/tilda_project/tilda_frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, Suspense } from 'react';\nimport { getSites, getPages } from './api';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SiteCard = /*#__PURE__*/React.lazy(_c = () => import('./components/SiteCard'));\n_c2 = SiteCard;\nconst PageTable = /*#__PURE__*/React.lazy(_c3 = () => import('./components/PageTable'));\n_c4 = PageTable;\nfunction App() {\n  _s();\n  const [sites, setSites] = useState([]);\n  const [pages, setPages] = useState([]);\n  const [selectedSite, setSelectedSite] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    setLoading(true);\n    setError(null);\n    getSites().then(data => {\n      setSites(data);\n      setLoading(false);\n    }).catch(error => {\n      setError('Не удалось загрузить сайты. Попробуйте позже.');\n      setLoading(false);\n    });\n  }, []);\n  const fetchPages = projectId => {\n    setLoading(true);\n    setError(null);\n    getPages(projectId).then(data => {\n      setPages(data);\n      setSelectedSite(projectId);\n      setLoading(false);\n    }).catch(error => {\n      setError('Не удалось загрузить страницы. Попробуйте позже.');\n      setLoading(false);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u0421\\u0430\\u0439\\u0442\\u044B Tilda\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n        fallback: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 29\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"site-cards\",\n          children: sites.map(site => /*#__PURE__*/_jsxDEV(SiteCard, {\n            site: site,\n            onClick: () => fetchPages(site.id),\n            isSelected: site.id === selectedSite\n          }, site.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), selectedSite && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `table-container ${loading ? 'loading' : ''}`,\n        children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-indicator\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `page-table ${loading ? 'hidden' : ''}`,\n          children: /*#__PURE__*/_jsxDEV(Suspense, {\n            fallback: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 35\n            }, this),\n            children: /*#__PURE__*/_jsxDEV(PageTable, {\n              pages: pages\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"6qf+KtLPMFeQNUYis1aq84Hl8gQ=\");\n_c5 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"SiteCard$React.lazy\");\n$RefreshReg$(_c2, \"SiteCard\");\n$RefreshReg$(_c3, \"PageTable$React.lazy\");\n$RefreshReg$(_c4, \"PageTable\");\n$RefreshReg$(_c5, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Suspense","getSites","getPages","jsxDEV","_jsxDEV","SiteCard","lazy","_c","_c2","PageTable","_c3","_c4","App","_s","sites","setSites","pages","setPages","selectedSite","setSelectedSite","loading","setLoading","error","setError","then","data","catch","fetchPages","projectId","className","children","fileName","_jsxFileName","lineNumber","columnNumber","fallback","map","site","onClick","id","isSelected","_c5","$RefreshReg$"],"sources":["/Users/georgyshustov/tilda_project/tilda_frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, Suspense } from 'react';\nimport { getSites, getPages } from './api';\nimport './App.css';\n\nconst SiteCard = React.lazy(() => import('./components/SiteCard'));\nconst PageTable = React.lazy(() => import('./components/PageTable'));\n\nfunction App() {\n  const [sites, setSites] = useState([]);\n  const [pages, setPages] = useState([]);\n  const [selectedSite, setSelectedSite] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setLoading(true);\n    setError(null);\n\n    getSites()\n      .then(data => {\n        setSites(data);\n        setLoading(false);\n      })\n      .catch(error => {\n        setError('Не удалось загрузить сайты. Попробуйте позже.');\n        setLoading(false);\n      });\n  }, []);\n\n  const fetchPages = (projectId) => {\n    setLoading(true);\n    setError(null);\n\n    getPages(projectId)\n      .then(data => {\n        setPages(data);\n        setSelectedSite(projectId);\n        setLoading(false);\n      })\n      .catch(error => {\n        setError('Не удалось загрузить страницы. Попробуйте позже.');\n        setLoading(false);\n      });\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Сайты Tilda</h1>\n      <div className=\"container\">\n        {error && <p className=\"error\">{error}</p>}\n        <Suspense fallback={<div>Loading...</div>}>\n          <div className=\"site-cards\">\n            {sites.map(site => (\n              <SiteCard\n                key={site.id}\n                site={site}\n                onClick={() => fetchPages(site.id)}\n                isSelected={site.id === selectedSite}\n              />\n            ))}\n          </div>\n        </Suspense>\n        {selectedSite && (\n          <div className={`table-container ${loading ? 'loading' : ''}`}>\n            {loading && (\n              <div className=\"loading-indicator\">\n                <p>Загрузка...</p>\n              </div>\n            )}\n            {/* Убедимся, что таблица отображается всегда */}\n            <div className={`page-table ${loading ? 'hidden' : ''}`}>\n              <Suspense fallback={<div>Loading...</div>}>\n                <PageTable pages={pages} />\n              </Suspense>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}